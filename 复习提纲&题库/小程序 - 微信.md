## 生命周期钩子 https://juejin.cn/post/7067031659576557598
  1. 小程序生命周期
    onLaunch: 初始化小程序触发, 全局只触发一次
    onShow: 小程序初始化完成、后台切前台触发(应用最小化, home键)
    onHide: 前台切后台触发(应用最小化, home键)
    onError: 小程序抛出异常触发
    onPageNotFound
  2. 页面生命周期
    onLoad: 首次进入页面触发
    onShow: 加载完成、后台切前台、重新进入页面 触发
    onReady: 页面首次渲染完成
    onHide: 前台切后台
    onUnload: 页面卸载
    onPullDownRefresh: 下拉动作
    onReachBottom: 上拉触底
    onShareAppMessage: 右上角转发
    onPageScroll: 页面滚动
    onTabItemTap: 当前是tab页并切换tab触发
  3. 组件生命周期
    lifetimes: {
      created: 组件被创建, 不能调用setData, 只适合为this添加自定义属性
      attached: 组件初始化完毕, 进入页面节点树, this.data 已初始化为组件当前值
      ready: 组件在视图层布局完成
      moved: 组件被移动到节点树的其他位置
      detached: 组件离开页面节点树触发, 退出页面时如果组件还在页面节点树中, 则触发
      error: 组件方法抛出异常
    },
    pageLifetimes: {
      show: 页面被展示
      hide: 页面被隐藏
      resize: 页面尺寸变化
    }

## 小程序页面跳转
  0. 小程序跳转api https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html
    1. wx.switchTab: 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面
    2. wx.reLaunch: 关闭所有页面，打开到应用内的某个页面
    3. wx.redirectTo: 关闭当前页面，跳转到应用内的某个页面, 不允许跳转到 tabbar 页面
    4. wx.navigateTo: 保留当前页面，跳转到应用内的某个页面, 不允许跳转到 tabbar 页面, 可以返回, 页面栈最多10层
    5. wx.navigateBack: 关闭当前页面，返回上一页面或多级页面
  
    6. wx.navigateToMiniProgram: 打开另一个小程序
    7. wx.navigateBackMiniProgram: 返回到上一个小程序。只有在当前小程序是被其他小程序打开时可以调用成功
    8. wx.exitMiniProgram: 退出当前小程序。必须有点击行为才能调用成功

  1. 小程序 跳 h5 https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html
    1. 建立 web-view-page，只添加 web-view 组件
    2. 跳转h5时，统一跳转到 web-view-page，修改其 src 属性为 h5地址，在 url 中拼接认证信息等
    3. 通信: web-view 组件绑定 message 事件，监听 h5 发出的 postMessage 消息

  2. h5 跳 小程序

  3. 小程序内的 h5 跳 其他h5



## 题库 https://cloud.tencent.com/developer/article/1590621
  1. 简述小程序的架构设计及其优势 https://km.sankuai.com/collabpage/2022813524
    1. 混合应用方案 (发挥了h5优势的同时, 弥补其不足)
      1. 无需安装, 支持热更新, 相比原生app, 触达速度更快
      2. 开发成本低, 无需关注双端一致性
      3. 通过 JS-Bridge 扩展了 JS的运行时环境, 提供了调用本地设备的能力 (IOS基于WKWebView 的提供 messageHandlers 特性)
      4. 资源离线缓存, 内置基础库, 减少了资源请求造成的白屏时间
    2. 双线程模型
      视图层: 多 webview 分别进行 页面 渲染
      逻辑层: V8/JSCore 运行JS脚本, 负责 逻辑处理、数据请求、接口调用
      通信: 逻辑层与视图层的通信 通过 微信客户端 中转, 包括 数据传递 与 网络请求
      视图层扩展(wxs): 提供了DOM操作能力、一定的数据处理能力, 以实现特定场景下的交互与动画、减少跨线程通信
    3. Exparser 框架: 组件系统的组织架构
      1. 基于 Shadow-DOM, 维护 Shadow-tree
      2. 负责自定义组件的注册与实例化、触发组件的生命周期

  2. 小程序开发与h5有什么不同
    1. 小程序采用双线程模型, 无需考虑 浏览器单线程模型 中 逻辑线程与渲染线程 互相抢占的问题, 开发成本降低, 但通信更为耗时
    2. 小程序中没有 DOM 和 BOM 对象
    3. 语法的区别, wxml+wxss 相比 html+css, 差异较大, 比如 小程序提供了一些业务性组件, 只支持id和类选择器 等

  3. 小程序中的错误捕获
    1. 视图层: 因为是webview因此本质上是通过 window.onerror 来捕获, 但开发者无法控制
    2. 逻辑层: 将组件的生命周期包裹在 try-catch 中执行来捕获, 同时提供了 app.onerror 回调

  4. 小程序性能优化
    1. 因为通信耗时, 需要减少 setData 的次数和规模
    2. 控制包大小, 通过CDN引入静态资源

  5. native 渲染模式

  5. 支付宝小程序架构 
    [支付宝小程序框架揭秘](https://juejin.cn/post/7137478354042617869)
    [支付宝小程序 V8 Worker 技术演进](https://developer.aliyun.com/article/763312)