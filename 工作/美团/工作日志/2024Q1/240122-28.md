长期 todo:
  - 渲染器文档建设 https://km.sankuai.com/collabpage/1372541890
  - 问题修复 https://km.sankuai.com/collabpage/1417649801
  - 2023H1 OKR 制定 https://km.sankuai.com/collabpage/1548268685

中期 todo
  - 渲染器单测实践 https://km.sankuai.com/collabpage/1715981824
  - 渲染器中期规划 https://km.sankuai.com/collabpage/1769097064
  
下周 todo
  - 从WEB建站到公司基建 https://km.sankuai.com/collabpage/1956019886
    - nginx 反向代理、负载均衡、静态资源
  
  - preset 接入改造 https://km.sankuai.com/collabpage/1977156671
    https://km.sankuai.com/collabpage/1993092382

  - 流程编辑器 UI/UE 一致性改造 => 预计1月底提供 https://km.sankuai.com/collabpage/2022244606
  
  - 支付策略平台迭代 => @彦力，预计1月底提供

  - L1 第二阶段覆盖推进 https://km.sankuai.com/collabpage/1954111883
    - 算法策略测试平台 https://km.sankuai.com/collabpage/2036787783
  
  - 流程编辑器白皮书 https://km.sankuai.com/collabpage/2040672134

  - 2.0 问题修复 https://km.sankuai.com/collabpage/1826853157
    - 设计态的 $router
    - JSSlot 的 value 为 Div 时，无法拖入内容 https://skyriver.sankuai.com/visualeditor/visualEdit/lowcode/page/card
    - popover 位置问题

  - 流程编辑器基础能力建设
    - 官方物料协议接口跨域 => 暂不解决
    - 组件协议可视化配置 => 暂不解决
    - 插件管理功能修复 => 跨域，暂不解决
    - iframe 通信包在 amd 环境下失效问题 => 暂不解决
    - 只读、编辑状态切换 => 还有一些操作未禁用
    - 模拟器 schema 的响应式问题 => 先通过 rerender 绕过去
    - 组件重布局策略调优
  
  - 催收 copilot 接入流程编辑器 https://km.sankuai.com/collabpage/2090481997 => 下周四

周一
  - 客服问题跟进
    √ 表单校验失败后没有阻止后续行为 https://tt.sankuai.com/ticket/detail?id=306227984

  - 流程编辑器 UI/UE 一致性改造 => 预计1月底提供 https://km.sankuai.com/collabpage/2022244606
    √ BaseNode 的 content 问题
    √ BaseNode 边框颜色和 title 颜色配置
    - BaseNode 样式重构 => 调研一下鲸湾画布的组件能力 https://km.sankuai.com/collabpage/1711399110

周二
  √ 页面一致性比对方案设计 https://km.sankuai.com/collabpage/2047153128

周三
  - 智能决策平台接入流程编辑器
    √ 删除节点后重新拖入后，底部 link 端口无法连接问题修复 => 成环检测引起
    √ st 环境准备，物料协议还需要同步
    - prod 环境准备，物料协议还需要同步

周四
  - 2.0 问题修复 https://km.sankuai.com/collabpage/1826853157
    √ 循环配置咨询
    - 嵌套表格 $row 咨询

  - 流程编辑器 UI/UE 一致性改造 => 预计1月底提供 https://km.sankuai.com/collabpage/2022244606
    - BaseNode 样式重构 => 调研一下鲸湾画布的组件能力 https://km.sankuai.com/collabpage/1711399110
      - 点击编辑文字颜色固定为蓝色
      - 节点 content 多行内容时，调整行间距
      - content 长度限制报错问题修复

周五
  周会 https://km.sankuai.com/collabpage/1650074874 14:00-16:00

  
小记
  git merge origin/feature/SKY-RIVER-81185660/skyriver-editor-2.0

  鲸湾流程编辑器本地启动
  yarn run devJW
  访问 http://localhost:9010/payCanvas/?action=edit&canvasType=1&template=journeyTemplate&campaignGroupId=657371&campaignId=1280683&callBackUrl=http://localhost:2099/jingwan-xyconsole/activity/myList
  sso 问题：先用 zhanghe30 访问一下 https://jingwan.fsp.test.sankuai.com/jingwan-canvas/?jwCampaignGroupId=661861&jwCampaignId=1288827&action=detail&callBackUrl=https%3A%2F%2Fjingwan.fsp.test.sankuai.com%2Fjingwan%2Fiframe%2FHDZX-HDLB-QBHDLB
  在线地址：https://1932-klmrb-sl-jingwan.fsp.test.sankuai.com/payCanvas/?action=detail&canvasType=1&template=journeyTemplate&campaignGroupId=127644&campaignId=188505&callBackUrl=https://jingwan.fsp.st.sankuai.com/jingwan/iframe/HDZX-HDLB-QBHDLB#/sso/callback?original-url=%2FpayCanvas%2F%3Faction%3Ddetail%26canvasType%3D1%26template%3DjourneyTemplate%26campaignGroupId%3D127644%26campaignId%3D188505%26callBackUrl%3Dhttps%3A%2F%2Fjingwan.fsp.st.sankuai.com%2Fjingwan%2Fiframe%2FHDZX-HDLB-QBHDLB&code=eAEFwbt2mzAAANCTdunp1LFjZk88BYxQhIDaIQQRIxaOwNi8FATEAXnrd_Qn-i3t1rljPqL3fvr45d-vv3df7-5_v__88UdWPteqQSVTlUE9358BBYZMK9XcGZp8Vk1QVoqlqcCSlEqv6e39Q237HfEhEKLtUQ6oF4qK8RPVlK6lrFm0Y8gNtDUl4leKdG6wZiJRx-jVGXPmLYSx0fSxXmiPmUukNL1IC7blw94JsfscJTi94bT5jvtFSPAiH2ArP-BEWm5PwesLE9r21KykmJdtuSJMNpB5IhLVi86zfrDrlMd98PbaboYyFxY4T4q-LjQDW2my0BrXpIuXKGL5SKGtYOQOlz2fvSmsU4rEkXFBynAYCeNTj8KJhk1L84RS_o0OKGQDa2uPWWPJnIkeHU6OfMxR7NiujpP9ZberbfggpN5ZXTtwoLOHh2BwRDdnUgAKy7OfT0XP_YxtMWA6pNS35HqF2Rh4N1vJSSV3pdY9xoUr6TM8Hf4DgKuRaA**eAENxckBwCAMA7CVwGkwGSfn_iNQfYQJ5TafEdMWeNKqJeZWJRfxwTYD2uz6uyyUuPPQTi4-TmsRzQ&t=1705909866586&state=kdhp27nuj38&webNewUuid=ba36ecac9a4550d511d92ee0ebd66a7f_1705909851228&st-g=AQEIAhMNc3QtZy1zaWduLWtleRsdY29tLnNhbmt1YWkuaXQuaWFtLnNzb3NlcnZpY2UhjqGbgdMxKY7ZtKrTMUScAQN0Z3QgZTA4NTA0OGFlMWRjNDVmZGFiYjYqYTA0YTk1NTg5NmEDdWlkBzM1Nzc5NTYKZXhwaXJlVGltZQ0xNzA3MTE5NDY1NDQ1B3ZlcnNpb24BMAhkZXZpY2VJZClXZWJTY2VuZXxBNEUxMzhEOTNDODM1NzE3OTdBNTAxRkUwQTY4MzQ5MQN0SUQQenI6L3F4clpAKytzd0RyWkqAAgGhToKZ_eHPOk-uylEIlB8a8kKzkCk45yjCMnqNsJ4-3I_Nzx_6YwMAnM8fGfhc1zKCcin5wr3K4mSoCRNv19MLKXHCh5BqWzv7S0yPOCgU5xbuqCY8LqfcsoHSOuKo_AkMcba8xQF2VV7qMxqqDXWfVgqTdskuXD-PiARI8YswmXUVFWsYLMsvbdS2WaXWaNQ6RTyFwo7-xPKqvXdQ7EwKnvHeLZ8XyRxaWTPSLXSAolQ4xmhFIBUkGvF6ox6zav_U86UDZYWJUfe5nnnqpZskXdh6-zj_9qxBIkw1L0uHLTB38l7PBvrWOQLsI3IpTTekM5a4tKCL7KtNdc3DnD8
  微贷 https://1932-klmrb-sl-jingwan.fsp.test.sankuai.com/jingwan-canvas/?jwCampaignGroupId=516800&jwCampaignId=1089699&action=edit&callBackUrl=https%3A%2F%2F1932-klmrb-sl-jingwan.fsp.test.sankuai.com%2Fjingwan%2Fiframe%2FHDZX-HDLB-WDHDLB


  0.0.35 版本
  addEngineInfo 时，paper.childNodes 有 cells

  1.1.1 版本
  addEngineInfo 时，paper.childNodes 没有 cells
  addIcon 点击事件没有触发，但 body 的点击事件被触发了

  designMode 没有给到引擎 host


  拖拽模块
    Dragon：拖拽引擎
      activeSensor：
      dragging：

      from：用于注册拖拽事件，为指定 Element 增加拖拽能力
      boost：核心部分，通过 mousemove 和 mouseup 模拟拖拽行为，同时触发外部传入的 onDrag 等钩子，这里分三处：
        designer.drag: 这里目前还没看到作用
        drag-ghost: 用于绘制拖拽过程中的【缩略图】
          这里的优先级是 title > componentName，可以加个 html 模式
        插件通过 shell 传入的 onDrag 钩子
      addSensor：
      removeSensor：
      onDragstart：
      onDrag：
      onDragend：

      // 私有方法部分
      getMasterSensors：
      getSimulators：
      setNativeSelection：
      setDraggingState：
      setCopyState：
      clearState：

      // 私有属性部分
      sensors：ISensor[] // 拖拽敏感区
      _canDrop
      emitter

    物料面板拖入画布流程
      Dragon.from(dragTarget, boost) boost 需返回一个 dragObject，用于存放拖拽数据
      对 dragTarget 绑定 mousedown 事件，拿到事件对象
      监听页面的 mousemove 和 mouseup，模拟 拖拽；这里会禁用原生的拖拽事件；


  引擎和模拟层通过 host 和 renderer 进行通信
  host 为 renderer 提供
  1. 视窗模型 viewport
  2. 快捷键 hotkey
  3. 剪切板 clipboard
  4. 事件委托
    drag：节点拖动，本质上依赖 mousedown + mouseup，用于监听 画布内(即 iframe 的拖动行为)
    click：节点点击，依赖 click
    dblclick：原地编辑
    detecting：悬停检测
    contextmenu：右键菜单
  5. 作用未知，看起来跟模态框有关 focusTracker

  renderer 为 host 提供
  1. 


  Host
    setProps, get, set => 对 _props 的读写行为
    connect, reaction, autorun: 暴露给模拟器的通信注册入口，并为其依赖的 options 提供 autoRun 能力, 这部分可以参考 mobx 的行为
    mountViewport
    buildLibrary：提供 assets 解析能力，本质上是在识别其中的 urls
    rerender：更新物料协议，并刷新模拟器
    mountContentFrame：核心，构建模拟器 iframe
    setupComponents
    setupEvents：模拟器的事件委托，主要监听以下事件
      setupDragAndClick：drag：节点拖动，本质上依赖 mousedown + mouseup，用于监听 画布内(即 iframe 的拖动行为)
      setupDragAndClick：click：节点点击，这里分两种，一是 click，暂时没看出左右，二是 mousedown + mouseup，用于选中节点
      setupLiveEditing：dblclick：原地编辑
      setupDetecting：detecting：悬停检测
      setupContextMenu：contextmenu：右键菜单
    locate
    getDropContainer：查找合适的投放容器

  Designer：画布操作层