周一
  1. 控制台组件调研
    vConsole

  问题: mnpm 安装依赖时，vue 版本的冲突问题
    现象:
      1. sky-rivier 的 rebuild 分支，正常安装依赖
      2. sky-rivier 的 visual-editor-2.x 分支，安装依赖失败，提示
        Could not resolve dependency:
          npm ERR! peer vue@"2.6.11" from @mt-material/edc-components@1.0.3

    原因分析:
      1. visual-editor-2.x 分支的 package 下多了 visual-editor 目录，观察其 package.json
        {
          "peerDependencies": {
            "vue": "^2.6.0",
            "@mt-material/edc-components": "^1.0.0"
          },
          "dependencies": {
            "vue": "2.6.14"
          },
        }
      2. 其中 @mt-material/edc-components 的 package.json 也有对 Vue 的依赖
        {
          "peerDependencies": {
            "vue": "2.6.11"
          },
          "devDependencies": {
            "vue": "2.6.11"
          }
        }

      (@mt-material/edc-components 策略可能也有问题，应该修改为 ^2.6.11)

    临时解决方案: 两种方案
      1. (推荐) mnpm install --force 强制下载
        方案2可能会导致安装的依赖，和当前项目诉求不符的情况，目前还是只能用方案1，安装的是 2.6.14 版本
      2. 移除 visual-editor 下 package.json 的 dependencies 中，对 Vue 版本的显示声明
        以 插件 的声明为准，安装的Vue版本为 2.6.11

周二
  √ 1. 输出面板的显/隐能力
  √ 2. 日志的分类功能 (all/info/warn/error/debug)
  √ 3. 日志的过滤功能
  √ 4. 清屏功能
  √ 5. 基础脚本执行功能 
  6. 引用类型变量打印后的展开功能
  7. 日志对应DSL片段高亮功能
  √ 8. 输入提示功能

周三
  可视化编辑器-调试控制台【70%->100%】支持 错误堆栈打印
  可视化编辑器-【数组、对象、枚举可视化配置】【0%】
  金融图谱-关系查询工具V1.3【0%->50%】完成需求评审，等待后端接口字段定义，预计周五完成
  萌芽计划课程学习【0%->100%】

周四
  【金融图谱-关系查询工具V1.3】【50%->80%】等待联调
  【可视化编辑器-控制台支持日志对应DSL高亮】【0%->30%】
  【可视化编辑器-数组、对象、枚举可视化配置】【0%】

  心得
    1. 调试DLS编辑器时，项目(MVP) -> 可视化编辑器(skyriver-visual-editor) -> DSL编辑器(skyriver-dsl-tools) 形成了依赖链
      使用 npm link 映射 可视化编辑器 -> DSL编辑器 会提示错误，原因还是包版本冲突问题
      npm link 似乎会执行与 npm install 类似的操作，因此需要使用 mnpm link @era/skyriver-dsl-tools --force

    2. 开发中发现 热更新反应到页面中很慢 (5秒以上)
      经分析，bundle.esm.js 过大是主要原因 (打包时间约2秒，后续的加载花费约3秒)
      优化: 开发环境 引入 rollup-plugin-peer-deps-external, 打包时间降低至 500ms 左右，但后续加载时间仍然较长，需持续优化

周五
  【金融图谱-关系查询工具V1.3】【80%->100%】联调完成，后端周一上线，前端周一跟随上线
  【可视化编辑器-控制台支持日志对应DSL高亮】【30%->100%】已完成点击日志高亮片段功能，后续接入会鑫的错误日志
  【可视化编辑器-数组、对象、枚举可视化配置】【0%】今日无进展

周报
  本周工作内容
    1. 完成 天河可视化编辑器-调试控制台功能 开发
    2. 完成 金融图谱-关系查询工具V1.3 开发

  下周工作计划
    1. 天河可视化编辑器-属性可视化配置功能开发

  心得
    用 link 的方式管理多 package 项目，开发阶段会一定程度上影响开发效率，后续尝试探索更好的调试环境
    1. rollup 打包成单一文件的方式，构建和加载速度慢
    2. rollup 不支持热替换
    3. 被深层 link 的模块，debugger 不生效 (待确认原因)

小记
  lerna npm依赖管理工具
  commitizen commit脚本交互工具

  